# Отключение интернета в контейнере

В этом документе описаны различные способы ограничения или отключения доступа к интернету внутри контейнера.

## 1. Удаление DNS-сервера

Удалите содержимое файла `resolv.conf`, чтобы контейнер не мог преобразовывать доменные имена в IP-адреса:

```bash
echo "" > /etc/resolv.conf
```

После выполнения этой команды контейнер не сможет обращаться к DNS-серверу, и разрешение доменных имен работать не будет.

---

## 2. Подмена доменов в `/etc/hosts`

Можно "сломать" работу пакетного менеджера (например, `apt update`), подменив доменные имена репозиториев на localhost:

```bash
echo "127.0.0.1 archive.ubuntu.com 127.0.0.1 security.ubuntu.com" > /etc/hosts
```

Теперь обращения к этим доменам будут перенаправляться на локальный адрес, и загрузка пакетов станет невозможной.

---

## 3. Использование прокси для блокировки трафика

Можно перенаправить весь HTTP/HTTPS-трафик на несуществующий прокси-сервер:

```bash
export http_proxy=http://127.0.0.1:9999
export https_proxy=http://127.0.0.1:9999
```

В результате все сетевые запросы будут уходить на локальный порт, где прокси-сервер не запущен, и интернет станет недоступен.

---

